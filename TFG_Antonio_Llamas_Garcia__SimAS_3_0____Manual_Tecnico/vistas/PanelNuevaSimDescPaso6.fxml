<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>

<GridPane xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1"
         styleClass="wizard-step, paso6-simulador" vgap="0" VBox.vgrow="ALWAYS" stylesheets="@styles2.css">
    
    <columnConstraints>
        <ColumnConstraints hgrow="ALWAYS"/>
    </columnConstraints>
    
    <rowConstraints>
        <RowConstraints valignment="TOP" minHeight="80" maxHeight="80" fillHeight="false"/> <!-- Header -->
        <RowConstraints vgrow="ALWAYS" valignment="TOP" fillHeight="true"/> <!-- Content -->
        <RowConstraints valignment="BOTTOM" minHeight="60" maxHeight="60" fillHeight="false"/> <!-- Navigation -->
    </rowConstraints>

    <padding>
        <Insets top="30" right="40" bottom="30" left="40"/>
    </padding>

    <!-- Header -->
    <Label fx:id="labelTitulo" text="%simulador.paso6.titulo" styleClass="wizard-header"
           GridPane.columnIndex="0" GridPane.rowIndex="0" GridPane.halignment="CENTER"/>

    <!-- Content -->
    <VBox spacing="20" GridPane.columnIndex="0" GridPane.rowIndex="1" 
          styleClass="wizard-content" VBox.vgrow="ALWAYS">
        
        <!-- Información de la Gramática Section -->
        <HBox spacing="20" VBox.vgrow="NEVER" minHeight="160" prefHeight="220" maxHeight="280">
            <!-- Producciones Section -->
            <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="paso6-section">
                <Label fx:id="labelProducciones" text="%simulador.paso6.producciones.titulo" styleClass="wizard-section-header"/>
                <ListView fx:id="listProducciones" VBox.vgrow="ALWAYS" styleClass="paso6-list" minHeight="120" prefHeight="180"/>
            </VBox>
            
            <!-- Funciones de Error Section -->
            <VBox spacing="8" HBox.hgrow="ALWAYS" styleClass="paso6-section">
                <Label fx:id="labelFuncionesError" text="%simulador.paso6.funciones.error.titulo" styleClass="wizard-section-header"/>
                <ListView fx:id="listFuncionesError" VBox.vgrow="ALWAYS" styleClass="paso6-list" minHeight="120" prefHeight="180"/>
            </VBox>
        </HBox>

        <!-- Tabla Predictiva Section -->
        <VBox spacing="10" VBox.vgrow="ALWAYS">
            <Label fx:id="labelTabla" text="%simulador.paso6.tabla.titulo" styleClass="wizard-section-header"/>
            <TableView fx:id="tablePredictiva" VBox.vgrow="ALWAYS" styleClass="wizard-table"/>
        </VBox>
    </VBox>

    <!-- Navigation -->
    <HBox styleClass="wizard-navigation" GridPane.columnIndex="0" GridPane.rowIndex="2" 
          GridPane.valignment="BOTTOM">
        <Button fx:id="btnModificarErrores" text="%simulador.paso6.btn.editar" styleClass="button-cancel" 
                onAction="#modificarErrores">
            <graphic>
                <ImageView fitWidth="16" fitHeight="16">
                    <Image url="@../resources/primero.png"/>
                </ImageView>
            </graphic>
        </Button>
        <Button fx:id="btnGenerarInforme" text="%simulacionfinal.btn.informe.pdf" styleClass="button-grammar"
                onAction="#generarInforme">
            <graphic>
                <ImageView fitWidth="16" fitHeight="16">
                    <Image url="@../resources/informeGr.png"/>
                </ImageView>
            </graphic>
        </Button>
        <Region HBox.hgrow="ALWAYS"/>
        <Button fx:id="btnSimular" text="%simulador.paso6.btn.simular" styleClass="button-finish" 
                onAction="#iniciarSimulacion">
            <graphic>
                <ImageView fitWidth="16" fitHeight="16">
                    <Image url="@../resources/icons/telescope.png"/>
                </ImageView>
            </graphic>
        </Button>
    </HBox>

</GridPane>
